Adjusted upstream patch to fix make check for libltdl 2.2.6b.

Changes based on this original patch:

  From: Ludovic Court√®s <ludo@gnu.org>
  Date: Mon, 14 Dec 2009 09:59:25 +0000 (+0100)
  Subject: Fix test environment issue with ltdl from Libtool 2.2.6b.
  X-Git-Tag: release_1-9-6~16
  X-Git-Url: http://git.savannah.gnu.org/gitweb/?p=guile.git;a=commitdiff_plain;h=5b98517a652ea51cbb0fd03e87a50c0b3add9707

  Fix test environment issue with ltdl from Libtool 2.2.6b.

  Earlier versions of ltdl would look for extensions under $PWD; this
  behavior changed in 2.2.6b.

---

Index: sid/test-suite/standalone/test-asmobs
===================================================================
--- sid.orig/test-suite/standalone/test-asmobs
+++ sid/test-suite/standalone/test-asmobs
@@ -2,7 +2,8 @@
 exec guile -q -s "$0" "$@"
 !#
 
-(load-extension "libtest-asmobs" "libtest_asmobs_init")
+(load-extension (string-append (getenv "builddir") "/libtest-asmobs")
+                "libtest_asmobs_init")
 
 (define (test x v)
   (if v
Index: sid/test-suite/standalone/Makefile.am
===================================================================
--- sid.orig/test-suite/standalone/Makefile.am
+++ sid/test-suite/standalone/Makefile.am
@@ -28,7 +28,7 @@
 BUILT_SOURCES =
 EXTRA_DIST =
 
-TESTS_ENVIRONMENT = "${top_builddir}/pre-inst-guile-env"
+TESTS_ENVIRONMENT = builddir="${builddir}" "${top_builddir}/pre-inst-guile-env"
 
 test_cflags =					\
   -I$(top_srcdir)/test-suite/standalone		\
